<navigation-bar title="待取件订单" back="{{true}}" color="black" background="#f7f7f7"></navigation-bar>
<scroll-view class="scrollarea" scroll-y type="list">
  <view class="container">
    <view class="order-list">
      <view wx:for="{{orders}}" wx:key="id" class="order-card">
        <view class="order-header">
          <text class="cabinet-name">柜体：{{item.cabinetId}}</text>
          <text class="compartment-tag">{{item.compartmentId}}号格口</text>
        </view>
        
        <view class="order-content">
          <!-- 快递入柜(0)：显示收件人信息 -->
          <block wx:if="{{item.orderType === 0}}">
            <view class="info-row">
              <text class="label">收件人</text>
              <text class="value">{{item.receiverName || '未知'}}</text>
            </view>
            <view class="info-row">
              <text class="label">联系电话</text>
              <text class="value">{{item.receiverPhone || '未知'}}</text>
            </view>
          </block>
          <!-- 用户寄件(2)或寄存(1)：显示发件人信息 -->
          <block wx:else>
            <view class="info-row">
              <text class="label">寄件人</text>
              <text class="value">{{item.senderName || '未知'}}</text>
            </view>
            <view class="info-row">
              <text class="label">联系电话</text>
              <text class="value">{{item.senderPhone || '未知'}}</text>
            </view>
          </block>
        </view>

        <view class="order-footer">
          <button class="btn-pickup" data-id="{{item.compartmentId}}" bindtap="pickup">开仓取件</button>
        </view>
      </view>

      <view wx:if="{{orders.length === 0}}" class="empty-state">
        <text>暂无待取件订单</text>
      </view>
    </view>
  </view>
</scroll-view>
