<view class="container">
  <view class="header">
    <text class="title">当前快递柜：{{cabinetCode}}</text>
    <text class="subtitle">请选择一个空闲仓门进行投递</text>
  </view>

  <view class="grid">
    <block wx:if="{{compartments.length > 0}}">
      <view 
        class="box {{item.status === 0 ? 'box-fault' : (item.hasItem === 1 ? 'box-occupied' : 'box-available')}}" 
        wx:for="{{compartments}}" 
        wx:key="id" 
        bindtap="selectCompartment" 
        data-item="{{item}}"
      >
        <text class="box-id">{{item.id}}号仓</text>
        <text class="box-status">
          {{item.status === 0 ? '故障' : (item.hasItem === 1 ? '占用' : '空闲')}}
        </text>
      </view>
    </block>
    <view wx:else class="empty">
      <text>暂无仓门信息</text>
    </view>
  </view>
</view>
