# 功能测试指南

## 测试账号

| 用户名 | 密码 | 手机号 | 类型 |
|--------|------|--------|------|
| admin | 123456 | 13800138000 | 普通用户 |
| courier1 | 123456 | 13800138001 | 快递员 |
| user1 | 123456 | 13800138002 | 普通用户 |

---

## 功能测试步骤

### 1. 登录功能测试

#### 测试步骤
1. 在登录页面输入用户名：`admin`
2. 输入密码：`123456`
3. 点击"登录"按钮

#### 预期结果
- ✅ 显示"登录成功"提示
- ✅ 1.5秒后自动跳转到快递柜列表页
- ✅ 可以看到2个测试快递柜（CAB001、CAB002）

#### 验证方法
- 在Console中查看是否有错误
- 在Network中查看登录请求的响应
- 检查是否成功跳转到快递柜列表页

---

### 2. 快递柜列表功能测试

#### 测试步骤
1. 查看快递柜列表页
2. 查看显示的快递柜信息

#### 预期结果
- ✅ 显示2个快递柜：
  - CAB001：北京市朝阳区XX街道XX号
  - CAB002：北京市海淀区XX街道XX号
- ✅ 每个快递柜显示：
  - 快递柜编号
  - 地址
  - 状态（正常/维护中）
  - 可用格口数量

#### 验证方法
- 检查快递柜信息是否正确显示
- 点击"我要取件"按钮，查看是否能正常跳转
- 点击"我的订单"按钮，查看是否能正常跳转
- 下拉刷新，查看是否能重新加载数据

---

### 3. 快递柜详情功能测试

#### 测试步骤
1. 在快递柜列表页，点击任意一个快递柜
2. 查看快递柜详情页

#### 预期结果
- ✅ 显示快递柜详细信息：
  - 快递柜名称
  - 编号
  - 地址
  - 状态
  - 总仓数
- ✅ 显示格口列表：
  - 8个格口（1-8）
  - 每个格口显示状态（空闲/占用）
  - 格口编号

#### 验证方法
- 检查格口状态是否正确显示
- 点击空闲格口，查看是否能跳转到存件页
- 点击占用格口，查看是否有提示

---

### 4. 存件功能测试

#### 测试步骤
1. 在快递柜详情页，点击一个空闲格口
2. 在存件页面填写信息：
   - 收件人姓名：`张三`
   - 收件人手机号：`13800138000`
   - 快递公司：`顺丰快递`
   - 快递单号：`SF1234567890`
3. 点击"确认存件"按钮

#### 预期结果
- ✅ 显示"存件中..."提示
- ✅ 存件成功后显示弹窗：
  - 标题：存件成功
  - 内容：取件码（6位数字，例如：123456）
- ✅ 弹窗关闭后返回快递柜详情页
- ✅ 该格口状态变为"占用"

#### 验证方法
- 记录取件码
- 在Network中查看存件请求的响应
- 检查返回的取件码是否为6位数字
- 检查格口状态是否更新

---

### 5. 取件功能测试

#### 测试步骤
1. 在快递柜列表页或个人中心，点击"我要取件"
2. 在取件页面输入刚才记录的取件码
3. 点击"确认取件"按钮

#### 预期结果
- ✅ 显示"取件中..."提示
- ✅ 取件成功后显示弹窗：
  - 标题：取件成功
  - 内容：格口 X 已打开，请取出快递
- ✅ 弹窗关闭后返回快递柜列表页
- ✅ 该格口状态变为"空闲"

#### 验证方法
- 在Network中查看取件请求的响应
- 检查返回的格口编号是否正确
- 检查格口状态是否更新

---

### 6. 订单列表功能测试

#### 测试步骤
1. 在个人中心，点击"我的订单"
2. 查看订单列表页

#### 预期结果
- ✅ 显示刚才存件的订单：
  - 快递公司：顺丰快递
  - 快递单号：SF1234567890
  - 收件人：张三
  - 收件人手机号：13800138000
  - 快递柜：CAB001
  - 格口：X
  - 取件码：123456
  - 状态：待取件
- ✅ 点击订单可以查看取件码
- ✅ 下拉刷新可以重新加载订单列表

#### 验证方法
- 检查订单信息是否正确显示
- 点击订单，查看是否能显示取件码
- 下拉刷新，查看是否能重新加载数据

---

### 7. 个人中心功能测试

#### 测试步骤
1. 在个人中心页查看用户信息

#### 预期结果
- ✅ 显示用户信息：
  - 用户名：admin
  - 手机号：13800138000
- ✅ 显示快捷功能入口：
  - 快递柜列表
  - 我要取件
  - 我的订单
- ✅ 显示退出登录按钮

#### 验证方法
- 检查用户信息是否正确显示
- 点击快捷功能入口，查看是否能正常跳转
- 点击退出登录，查看是否能清除用户信息

---

### 8. 注册功能测试

#### 测试步骤
1. 在登录页，点击"立即注册"
2. 在注册页面填写信息：
   - 用户名：`testuser`
   - 手机号：`13900139000`
   - 密码：`123456`
   - 确认密码：`123456`
3. 点击"注册"按钮

#### 预期结果
- ✅ 显示"注册中..."提示
- ✅ 注册成功后显示提示
- ✅ 自动返回登录页
- ✅ 可以使用新账号登录

#### 验证方法
- 在Network中查看注册请求的响应
- 检查是否能成功注册
- 检查是否能使用新账号登录

---

## 异常情况测试

### 1. 网络错误测试
- 关闭后端服务
- 尝试登录
- 预期：显示"网络连接失败"提示

### 2. 表单验证测试
- 不输入用户名，点击登录
- 预期：显示"请输入用户名"提示
- 不输入密码，点击登录
- 预期：显示"请输入密码"提示

### 3. 重复注册测试
- 使用已存在的用户名注册
- 预期：显示"用户名已存在"提示

### 4. 格口占用测试
- 在快递柜详情页，点击已占用的格口
- 预期：显示"该格口已被占用"提示

---

## 测试检查清单

### 登录功能
- [ ] 正常登录
- [ ] 用户名密码错误提示
- [ ] 空表单验证
- [ ] 登录成功跳转
- [ ] Token正确存储

### 快递柜功能
- [ ] 快递柜列表显示
- [ ] 快递柜详情显示
- [ ] 格口状态显示
- [ ] 点击格口跳转
- [ ] 下拉刷新

### 存件功能
- [ ] 填写表单
- [ ] 表单验证
- [ ] 存件成功
- [ ] 取件码生成
- [ ] 格口状态更新

### 取件功能
- [ ] 输入取件码
- [ ] 取件码验证
- [ ] 取件成功
- [ ] 格口打开

### 订单功能
- [ ] 订单列表显示
- [ ] 订单详情显示
- [ ] 取件码查看
- [ ] 下拉刷新

### 个人中心
- [ ] 用户信息显示
- [ ] 快捷功能跳转
- [ ] 退出登录

---

## 测试完成后

### 功能正常
- 所有功能测试通过
- 可以正常使用小程序

### 发现问题
- 记录发现的问题
- 描述问题现象
- 提供错误日志

### 优化建议
- 提出优化建议
- 描述改进方向
